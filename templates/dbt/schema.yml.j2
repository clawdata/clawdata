{#---
name: Schema YAML
description: Generate a dbt schema.yml file with model documentation, column descriptions, and tests.
category: dbt
variables: model_name, description, columns
---#}

version: 2

models:
  - name: {{ model_name }}
    description: "{{ description }}"
    columns:
      {%- for col in columns %}
      - name: {{ col.name }}
        description: "{{ col.description | default('') }}"
        {%- if col.tests is defined %}
        tests:
          {%- for test in col.tests %}
          - {{ test }}
          {%- endfor %}
        {%- endif %}
      {%- endfor %}
